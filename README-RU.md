Генератор микроразметки
===


Ошибки и ограничения валидаторов
---

Google:

- Нельзя использовать несколько элементов разметки ItemList на одной странице
- ItemList – недопустимый тип целевого объекта для свойства contactPoint
- contactType - HH (Значение hh должно содержать действительные контактные данные.) (replace to 'customer service' or smth else)

Яндекс:

- поле contactPoint содержит некорректный тип данных http://schema.org/ItemList. Допустимые типы данных http://schema.org/ContactPoint

- url required


Обязательные и опциональные свойства
---

Сущность описывается набором свойств. Например, сущность "Город" описывается:
- численность населения
- площадь

Если какой-то параметр неизвестен, устанавливается значение undefined|null

Важно различать **отсутствие значения параметра** и **отсутсвие самого параметра**.
Нам либо неизвестна численность населения, либо этот параметр вообще не учитывается в системе.

```
{
  popularity: undefined, // or null
  area: 100
}
```

В нормализованном виде все свойства сущности должны быть заполнены. Все опциональные свойства выносятся в отдельные сущности (one-to-one relationship). В реальных кейсах присутствуют опциональные свойства - для уменьшения сложности и увеличения производительности.


Отображение сущности
---

При отсутствии значений желательно корректно уведомлять пользователя.

```
<div>
  <span id="label">Popularity</span>
  <span id="value"></span>
</div>
```

Само сообщение об отсутсвии значения не содержится в модели. Его можно добавить с помощью представления, например, с помощью [CSS :empty selector](https://developer.mozilla.org/ru/docs/Web/CSS/:empty):

```
#value:empty:after {
  content: 'no value';
}
```

Использование специфичных тэгов
---

Если тип значения - "Ссылка", то при отсутствии значения невалидно будет указывать пустую ссылку:

```<a id="value" href=""></a>```

Один из вариантов: заменить тэг на тэг по умолчанию (a --> span). При этом надо скопировать все аттрибуты из прежнего тэга.

Валидатор микроразметки требует наличия href для значений-ссылок. Как хак, можно скрыть сам факт наличия свойства (удалить itemprop атрибут).